<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
  <meta name="generator" content="Hugo 0.104.2">
  <title>ANJITA</title>

  <link rel="canonical" href="https://getbootstrap.com/docs/5.2/examples/carousel/">
  <script src="https://kit.fontawesome.com/57f76826d8.js" crossorigin="anonymous"></script>
  <link href="../static/styles/bootstrap.min.css" rel="stylesheet">

  <style>
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }

    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }

    .b-example-divider {
      height: 3rem;
      background-color: rgba(0, 0, 0, .1);
      border: solid rgba(0, 0, 0, .15);
      border-width: 1px 0;
      box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
    }

    .b-example-vr {
      flex-shrink: 0;
      width: 1.5rem;
      height: 100vh;
    }

    .bi {
      vertical-align: -.125em;
      fill: currentColor;
    }

    .nav-scroller {
      position: relative;
      z-index: 2;
      height: 2.75rem;
      overflow-y: hidden;
    }

    .nav-scroller .nav {
      display: flex;
      flex-wrap: nowrap;
      padding-bottom: 1rem;
      margin-top: -1px;
      overflow-x: auto;
      text-align: center;
      white-space: nowrap;
      -webkit-overflow-scrolling: touch;
    }
  </style>


  <!-- Custom styles for this template -->
  <link href="../static/styles/carousel.css" rel="stylesheet">
  <link href="../static/styles/my_styles.css" rel="stylesheet">
</head>

<body>

  <header>
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">ANJITA</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
          aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
          <ul class="navbar-nav me-auto mb-2 mb-md-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">About us</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/login">Login (admin)</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <main>

    <div id="myCarousel" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-indicators">
        <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="0" class="active" aria-current="true"
          aria-label="Slide 1"></button>
        <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
        <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
      </div>
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="../static/images/bg1.jpg" class="img_bg">

            <div class="container">
              <div class="carousel-caption text-start">
                <h1>We help you choose recipes</h1>
                <p>Save your cooking time. Make your meals more nutritious and delicious.</p>
                <p><a class="btn btn-lg btn-info" href="#upload_place">Start cooking</a></p>
              </div>
            </div>
        </div>
        <div class="carousel-item">
          <img src="../static/images/bg2.jpeg" class="img_bg">

            <div class="container">
              <div class="carousel-caption">
                <h1>Easy to use with just one photo</h1>
                <p>You just need to take a picture of the cooking ingredients. A list of dishes and recipes will
                  automatically be provided.</p>
                <p><a class="btn btn-lg btn-info" href="#upload_place">Start cooking</a></p>
              </div>
            </div>
        </div>
        <div class="carousel-item">
          <img src="../static/images/bg3.jpg" class="img_bg">

          <div class="container">
            <div class="carousel-caption text-end">
              <h1>Diverse menu</h1>
              <p>The number of dishes we can suggest is enough for you to eat for a whole month without duplicates.</p>
              <p><a class="btn btn-lg btn-info" href="#upload_place">Start cooking</a></p>
            </div>
          </div>
        </div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#myCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#myCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>


    <!-- Marketing messaging and featurettes
  ================================================== -->
    <!-- Wrap the rest of the page in another container to center all the content. -->

    <div class="container marketing">
      <h2 class="part_title">Steps to have a delicious and nutritious meal</h2>
      <hr>

      <!-- Three columns of text below the carousel -->
      <div class="row">
        <div class="col-lg-4">
          <img src="../static/images/use_guide1.jpg" class="use_guide_img">

          <h2 class="fw-normal">Upload Photos</h2>
          <p>Upload photos of the ingredients you already have, we accept .jpg, .jpeg, .png and many other image format.
          </p>
          <p><a class="btn btn-secondary" href="#upload_place">Start right now &raquo;</a></p>
        </div><!-- /.col-lg-4 -->
        <div class="col-lg-4">
          <img src="../static/images/use_guide2.jpg" class="use_guide_img">

          <h2 class="fw-normal">Choose dishes</h2>
          <p>
            We will automatically suggest dishes that can be cooked based on the ingredients, just choose one.
          </p>
          <p><a class="btn btn-secondary" href="#">See list of dishes &raquo;</a></p>
        </div><!-- /.col-lg-4 -->
        <div class="col-lg-4">
          <img src="../static/images/use_guide3.webp" class="use_guide_img">
          <h2 class="fw-normal">Start cooking</h2>
          <p>
            Depending on the dish you choose, we will provide the recipe, let's look forward to the delicious dishes.
          </p>
          <p><a class="btn btn-secondary" href="#">Cooked dishes &raquo;</a></p>
        </div><!-- /.col-lg-4 -->
      </div><!-- /.row -->
    </div><!-- /.container -->

    <div class="container marketing" id="upload_place">
      <hr>
        <h2 class="part_title">Upload your file here and start cooking with us.</h2>
      <hr>
    <div class="row featurette">
      <div class="col-md-8">
        <div class="img_chose_wrapper">
          <div class="image_chose">
            <img src="" alt="" id="upload_img">
          </div>
          <div class="upload_content">
            <div class="Icon_upload"><i class="fa-solid fa-cloud-arrow-up"></i></div>
            <div class="Text_upload"> No file chosen yet</div>
          </div>
          <div id="Cancel-bt"><i class="fa-solid fa-xmark"></i></div>
        </div>
      </div>
      <div class="col-md-3">
        <input type="file" name="input_img" id="default-btn" hidden>
        <div style="display: flex; justify-content: center; height: 50%; padding: 5px;">
          <button onclick="activeBt()" class="btn btn-lg btn-info img_button">Choose an image</button>
        </div>
        <div style="display: flex; justify-content: center; height: 50%; padding: 5px;">
          <button onclick="upLoad()" href="#loading" class="btn btn-lg btn-info img_button" id="Upload-btn" disabled>
            Upload chosen image
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="container marketing" id='loading' hidden>
    <hr>
    <div class="spinner-border" style="display:block;margin: auto;width: 6rem; height: 6rem;" role="status">
      <span class="sr-only" style="margin: auto;">Loading...</span>
    </div>
    <h4 class="part_title">Did you know</h2>
    <p class="part_title" style="margin-top: 10px;">The name Anjta is inspired by the phrase "An gi ta" in Vietnamese</p>
    <hr>
  </div>
  <div class="container marketing" id='img_result' hidden>
    <hr>
    <h2 class="part_title"> Your cooking ingredients are amazing </h2>
    <p style="margin-top: 50px; text-align: center">With these ingredients, we recommend you try following dishes</p>
    <hr>
    <div class="col">
    <div class="row">
      <div class="col-lg-5" style="text-align: center; margin:auto; margin-top: 30px; margin-bottom:30px">
        <h4 id="name0"></h4>
        <p id="ingrs0"></p>
        <p><a class="btn btn-secondary" href="#recipes_result" onclick="showRecipe(0)">See recipe &raquo;</a></p>
      </div>
      <div class="col-lg-5" style="text-align: center; margin:auto; margin-top: 30px; margin-bottom:30px">
        <h4 id="name1"></h4>
        <p id="ingrs1"></p>
        <p><a class="btn btn-secondary" href="#recipes_result" onclick="showRecipe(1)">See recipe &raquo;</a></p>
      </div>
    </div>
        <div class="row">
      <div class="col-lg-5" style="text-align: center; margin:auto; margin-top: 30px; margin-bottom:30px">
        <h4 id="name2"></h4>
        <p id="ingrs2"></p>
        <p><a class="btn btn-secondary" href="#recipes_result" onclick="showRecipe(2)">See recipe &raquo;</a></p>
      </div>
      <div class="col-lg-5" style="text-align: center; margin:auto; margin-top: 30px; margin-bottom:30px">
        <h4 id="name3"></h4>
        <p id="ingrs3"></p>
        <p><a class="btn btn-secondary" href="#recipes_result" onclick="showRecipe(3)">See recipe &raquo;</a></p>
      </div>
    </div>
    </div>
  </div>

  <div class="container marketing" id='recipes_result' hidden>
    <hr>
      <h2 class="part_title">cooking recipe</h2>
      <h4 id="dish_chosen"></h4>
    <hr>
    <ul id="recipe"></ul>
  </div>

    <hr>

    <!-- FOOTER -->
    <footer class="container">
      <p class="float-end"><a href="#">Back to top</a></p>
      <p>&copy; 2022 ANJITA, Inc. &middot; <a href="#">Privacy</a> &middot; <a href="#">Terms</a></p>
    </footer>
  </main>


  <script src="../static/js/bootstrap.bundle.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script>
    const defaultBtn = document.querySelector("#default-btn")
    const img = document.querySelector("#upload_img")
    const cancelBtn = document.querySelector("#Cancel-bt")
    const uploadBtn = document.querySelector("#Upload-btn")
    const submitBtn = document.querySelector("#submit")
    const displayImg = document.querySelector("#face_img")
    const imgResult = document.querySelector("#img_result")
    const loading = document.querySelector("#loading")
    const recipeResult = document.querySelector("#recipes_result")
    const recipeField = document.querySelector("#recipe")
    const recipe_list = []
    const dish_name = []

    function showRecipe(id){
      let text = ""
      for (dishes in recipe_list[id]){
        text += "<li>" + recipe_list[id][dishes] + "</li>"
      }
      recipeField.innerHTML = text
      const dish_chosen = document.querySelector("#dish_chosen")
      dish_chosen.innerHTML = dish_name[id]
      recipeResult.hidden = false 
    }

    function activeBt(){
      defaultBtn.click();
    }

    function upLoad(){
      const formData = new FormData();
      const fileField = document.querySelector('input[type="file"]');
      imgResult.hidden = true;
      loading.hidden = false;
      loading.scrollIntoView();

      formData.append('input_img', fileField.files[0]);

      fetch('/', {
        method: 'POST',
        body: formData
      })
      .then(response => response.json())
      .then(data => {
          console.log(data)
          loading.hidden = true

          for (dish in data){
            name_tag = document.querySelector("#name" + dish);
            recipe_tag = document.querySelector("#ingrs" + dish);
            name_tag.innerHTML = data[dish]['title']
            recipe_tag.innerHTML = data[dish]['ingrs']
            dish_name.push(data[dish]['title'])
            recipe_list.push(data[dish]['recipe'])        
          }
          imgResult.hidden = false
          imgResult.scrollIntoView();
      })
    }

    defaultBtn.addEventListener("change", function(){
      const file = this.files[0];
      if (file){
        const reader = new FileReader();
        reader.onload = function(){
          const result = reader.result;
          img.src = result;
          uploadBtn.disabled = false;
      }
      reader.readAsDataURL(file);
      }
      imgResult.hidden = true;
      recipeResult.hidden = true;
      recipeResult.hidden = true;
    })

    cancelBtn.addEventListener("click", function(){
      img.src=""
      uploadBtn.disabled = true;
      imgResult.hidden = true;
    })
  </script>


</body>

</html>